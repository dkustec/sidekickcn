{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-elements-conversation",
  "type": "registry:component",
  "title": "AI Conversation Elements",
  "description": "Conversation container with auto-scrolling and scroll-to-bottom functionality",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": "button",
  "files": [
    {
      "path": "src/components/ai-elements/conversation.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { ArrowDownIcon } from \"lucide-react\";\nimport * as React from \"react\";\n\ntype ConversationProps = {\n  children: React.ReactNode;\n  className?: string;\n};\n\nexport function Conversation({ children, className }: ConversationProps) {\n  return (\n    <div className={cn(\"relative flex flex-col\", className)}>{children}</div>\n  );\n}\n\ntype ConversationContentProps = {\n  children: React.ReactNode;\n  className?: string;\n};\n\nexport function ConversationContent({\n  children,\n  className,\n}: ConversationContentProps) {\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [isAtBottom, setIsAtBottom] = React.useState(true);\n\n  React.useEffect(() => {\n    const element = ref.current;\n    if (!element) return;\n\n    const handleScroll = () => {\n      const threshold = 100;\n      const isBottom =\n        element.scrollHeight - element.scrollTop - element.clientHeight <\n        threshold;\n      setIsAtBottom(isBottom);\n    };\n\n    element.addEventListener(\"scroll\", handleScroll);\n    return () => element.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  React.useEffect(() => {\n    if (isAtBottom && ref.current) {\n      ref.current.scrollTop = ref.current.scrollHeight;\n    }\n  }, [children, isAtBottom]);\n\n  // Store ref in data attribute for scroll button\n  React.useEffect(() => {\n    if (ref.current) {\n      (ref.current as any)._conversationRef = ref;\n    }\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\"flex-1 space-y-4 overflow-y-auto p-4\", className)}\n      data-conversation-content\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function ConversationScrollButton() {\n  const handleScroll = React.useCallback(() => {\n    const element = document.querySelector(\n      \"[data-conversation-content]\",\n    ) as HTMLElement;\n    if (element) {\n      element.scrollTo({ top: element.scrollHeight, behavior: \"smooth\" });\n    }\n  }, []);\n\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"icon\"\n      className=\"fixed bottom-20 right-4 z-50 rounded-full shadow-lg bg-background hover:bg-muted\"\n      onClick={handleScroll}\n    >\n      <ArrowDownIcon className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Scroll to bottom</span>\n    </Button>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}
